---
const { lang } = Astro.props;
const currentUrl = lang === 'en' ? '/en/' : '/ro/';
---

<a href={currentUrl} class="logo-and-name" id="logoAndName">
  <img
    src="/src/assets/george-popa-fotograf-logo-fotografii-constanta-evenimente-nunta-botez-si-altele.png"
    alt="George Popa Fotograf Evenimente: nunta, botez, majorat, newborn, kids, save the date"
    height="42"
    class="logo-image"
  />
  <span class="site-name">
    George Popa Fotograf
  </span>
</a>

<style>
  .logo-and-name {
    display: flex;
    align-items: center;
    gap: 1rem;
    text-decoration: none;
  }
  
  .logo-image {
    filter: brightness(0) invert(1);
    transition: filter 0.3s ease;
  }
  
  /* Când logo are clasa scrolled sau menu-active */
  .logo-and-name.scrolled .logo-image,
  .logo-and-name.menu-active .logo-image {
    filter: brightness(0);
  }
  
  .site-name {
    font-weight: 600;
    color: #ffffff;
    font-size: 1.1rem;
    transition: color 0.3s ease;
    font-family: 'Inter', sans-serif;
  }

  /* Când logo are clasa scrolled sau menu-active */
  .logo-and-name.scrolled .site-name,
  .logo-and-name.menu-active .site-name {
    color: #1a1515;
  }

  .logo-and-name:hover .logo-image {
    opacity: 0.8;
  }

  .logo-and-name:hover .site-name {
    color: #c4a574;
  }
</style>

<script>
  const navbar = document.getElementById('navbar');
  const logoLink = document.getElementById('logoAndName');
  
  // Function to update logo based on navbar state
  function updateLogoState() {
    if (!navbar || !logoLink) return;

    // Check scrolled
    if (navbar.classList.contains('scrolled')) {
      logoLink.classList.add('scrolled');
    } else {
      logoLink.classList.remove('scrolled');
    }

    // Check menu-active
    if (navbar.classList.contains('menu-active')) {
      logoLink.classList.add('menu-active');
    } else {
      logoLink.classList.remove('menu-active');
    }
  }

  // Observer pentru a detecta când navbar primește clase
  const observer = new MutationObserver(() => {
    updateLogoState();
  });

  if (navbar) {
    observer.observe(navbar, {
      attributes: true,
      attributeFilter: ['class']
    });
  }

  // Initial check
  updateLogoState();
</script>